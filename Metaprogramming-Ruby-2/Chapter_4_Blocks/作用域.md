# 作用域

Ruby 的作用域和其他语言有些不同，没有内部作用域与外部作用域的区别。如：

```ruby
a = 1

def test
  puts a # => undefined local variable or method `a' for main:Object (NameError)
end

test
```

作用域完全独立，临时变量对于 `def`，`class`，`module` 这样的作用域门，无法跨越。

## 跨域

### 采用成员变量或全局变量

```ruby
@a = 1

def test
  puts @a
end

test
```

如果 `a` 是顶级作用域 main 的成员变量，或是 `$a` 全局变量，就不会存在无法访问的问题。

### 避免出现作用域门关键字 —— 扁平化作用域

将 `def`，`class`，`module` 替换为对应的方法调用：

```ruby
```
